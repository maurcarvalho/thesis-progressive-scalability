\label{sec:proposal}

This chapter presents the core academic potential contribution of this research: a set of architectural guidelines designed to support software startups in adopting modular monolithic architectures that preserve scalability, maintainability, and internal modularity. These guidelines are grounded in the gaps and trade-offs identified through the systematic literature review and reflect the specific architectural tensions faced by early-stage software teams operating under conditions of limited resources, rapid iteration, and evolving requirements. Rather than offering a static framework, the guidelines aim to function as decision-making heuristics, designed to be actionable principles that inform architectural evolution without prescribing a single and rigid path.

The original research design identifies twelve guidelines organized across four analytical dimensions introduced in Chapter~\ref{sec:relatedwork}: Architectural Design, Operational Fit, Organizational Alignment, and Guideline Orientation. This dissertation fully develops the first six guidelines---G1 through G6---covering the Architectural Design and Operational Fit dimensions. These six guidelines form a complete, self-contained framework that addresses module boundaries, maintainability, progressive scalability, migration readiness, deployment strategy, and observability. The remaining six guidelines (G7--G12), spanning the Organizational Alignment and Guideline Orientation dimensions, are identified and scoped but deferred to future research (Section~\ref{sec:future-guidelines}).


\begin{figure}[htb]
  \centering
  % Adjust width as needed, for example width=0.8\textwidth
  \includegraphics[width=0.8\textwidth]{Cap4/guideline_dimensions.png}
  \caption{Four guideline dimensions for evaluating modular monolith architectures}
  \label{fig:guideline-dimensions}
\end{figure}

\noindent
Figure~\ref{fig:guideline-dimensions} shows the four guideline dimensions used in this research to guide the evaluation of modular monolith architectures in startup environments:

\begin{itemize}
  \item \textbf{Architectural Design.} Covers criteria related to the software's internal structure. Guideline G1 enforces clear module boundaries, G2 evaluates maintainability over time, and G3 assesses the system's scalability potential.

  \item \textbf{Operational Fit.} Addresses the operational requirements needed to support production environments. Guideline G4 checks migration readiness (for example, transitioning toward microservices), G5 focuses on deployment strategy and automation, and G6 considers observability levels (logging, metrics, monitoring).

  \item \textbf{Organizational Alignment.} Focuses on aligning the software architecture with the organization's structure. Guideline G7 examines team organization according to Conway's Law, G8 evaluates DevOps maturity, and G9 assesses how easily new team members can be onboarded without technical friction. These guidelines are identified and scoped in this dissertation but deferred to future research (Section~\ref{sec:future-guidelines}).

  \item \textbf{Guideline Orientation.} Refers to high-level recommendations that steer design decisions without imposing rigid rules. Guideline G10 emphasizes practical, actionable patterns, G11 highlights the need to adapt recommendations to the specific business context, and G12 points out that trade-offs and dilemmas exist rather than unbreakable dogma. These guidelines are identified and scoped in this dissertation but deferred to future research (Section~\ref{sec:future-guidelines}).
\end{itemize}

\noindent
Each dimension group provides a set of guidelines that, together, form the foundation for the proposal of this research. It illustrates how technical, operational, organizational, and orientation-based considerations should be integrated when selecting or evolving a modular monolith architecture in software startups. What follows is a descriptive presentation of the guidelines within each dimension and their foundation concepts, starting with those that address the architectural design of modular monoliths.

\section{Reference Implementation and Technology Stack}
\label{sec:tech-stack}

The guidelines proposed in this chapter are grounded in a reference implementation called \textbf{Tiny Store}\footnote{\url{https://github.com/maurcarvalho/tiny-store}}, an Nx monorepo e-commerce application with four domain modules: orders, inventory, payments, and shipments. All code examples, exercises, and verification scenarios reference this implementation. Table~\ref{tab:tech-stack} summarizes the production-grade technology stack used across the guidelines.

\begin{table}[htb]
\centering
\caption{Technology stack used in the Tiny Store reference implementation}
\label{tab:tech-stack}
\small
\begin{tabular}{llll}
\hline
\textbf{Tool} & \textbf{Purpose} & \textbf{Guidelines} \\
\hline
Nx & Monorepo management, dependency graph, affected CI & G1, G5 \\
ESLint + @nx/enforce-module-boundaries & Boundary enforcement at lint time & G1 \\
KafkaJS + Apache Kafka & Event-driven communication, topic-per-aggregate & G4 \\
Temporal & Durable workflows, saga orchestration, compensation & G4 \\
Redis + ioredis & Caching layer (L1 vertical optimization) & G3 \\
BullMQ & Async job queues (L2 async decoupling) & G3 \\
TypeORM + PostgreSQL & ORM with per-module schema isolation & G3 \\
OpenTelemetry & Distributed traces, metrics, structured logging & G6 \\
Jaeger & Trace visualization and analysis & G6 \\
Prometheus + Grafana & Metrics collection, dashboards, alerting & G6 \\
Docker + Docker Compose & Local development, D0 baseline deployment & G5 \\
Kamal & Production deployment, zero-downtime, SSL & G5 \\
GitHub Actions & Module-aware CI with Nx affected & G5 \\
\hline
\end{tabular}
\end{table}

The deliberate choice of production-grade tooling from day one is central to the thesis argument: by embedding infrastructure such as Kafka, Temporal, and OpenTelemetry inside the monolith before any extraction occurs, the system is operationally ready for distribution while retaining the simplicity of a single deployable unit. These tools are not migration prerequisites to be added later---they are architectural requirements that make progressive scalability achievable.

\input{Cap4/guidelines/foundations-for-modular-architectural-design-dimension-block-g1-g2-g3}
\input{Cap4/guidelines/g1_modular}
\input{Cap4/guidelines/g2-maintainability}
\input{Cap4/guidelines/g3-progressive-scalability}

\noindent
Having established the scalability spectrum and progression criteria, the next guideline addresses how individual modules can be prepared for extraction when evidence warrants it.

\input{Cap4/guidelines/g4-migration-readiness}

\noindent
With extraction-ready module patterns in place, the deployment strategy must evolve to support both the monolithic deployment and any extracted services without disrupting the development workflow.

\input{Cap4/guidelines/g5-deployment-strategy}

\noindent
The deployment pipeline provides the delivery mechanism, but informed scaling decisions require continuous feedback. The final guideline in the Operational Fit dimension introduces the observability infrastructure that closes this loop.

\input{Cap4/guidelines/g6-observability}
\pagebreak
\section{Guidelines Deferred to Future Research}
\label{sec:future-guidelines}

The original research design proposed twelve guidelines organized across four dimensions. This dissertation fully develops the first six guidelines, covering the Architectural Design Dimension (G1--G3) and the Operational Fit Dimension (G4--G6). Together, these six guidelines form a complete, self-contained framework: G1 enforces modular boundaries, G2 embeds maintainability, G3 defines the progressive scalability spectrum, G4 prepares modules for extraction with production-grade infrastructure (Kafka, Temporal), G5 establishes the deployment pipeline, and G6 provides module-scoped observability. The Tiny Store reference implementation demonstrates all six guidelines as executable practices.

The remaining six guidelines, spanning the Organizational Alignment Dimension (G7--G9) and the Guideline Orientation Dimension (G10--G12), are deferred to future research. These guidelines address concerns that, while architecturally relevant, require empirical investigation beyond the scope of the current work. This section summarizes the intent of each deferred guideline and its anticipated contribution.

\subsection*{Organizational Alignment Dimension}

\begin{itemize}[noitemsep,topsep=2pt]
  \item \textbf{G7: Map Ownership to Teams (Conway's Law).} Focuses on aligning module ownership with team structure, leveraging Conway's Law~\cite{fowler2003} intentionally so that communication structures reinforce module boundaries rather than degrade them. Future research should investigate how ownership models evolve in startups as teams grow from single-digit to multi-team organizations, and whether explicit ownership assignment reduces boundary erosion over time~\cite{vitharana2024challenges}.

  \item \textbf{G8: Assess DevOps Maturity.} Addresses the operational readiness of the team to support the infrastructure introduced by G4--G6 (Kafka, Temporal, OpenTelemetry). A team that lacks experience with distributed event streaming or durable workflow orchestration may struggle to operate these systems effectively, regardless of how well the architecture is designed. Future research should develop a maturity model that maps DevOps capabilities to the scalability spectrum levels (L0--L3), helping teams assess whether they are operationally ready for each progression.

  \item \textbf{G9: Treat Onboarding as a First-Class Concern.} Treats developer onboarding as an architectural property. A modular monolith's unified codebase offers onboarding advantages over microservices (one repository, one build, one local environment), but these advantages are realized only when module documentation, test environments, and contribution workflows are deliberately designed. Future research should measure onboarding time across architectural styles and identify which structural properties (module READMEs, guided test fixtures, composition root walkthroughs) have the greatest impact on ramp-up speed~\cite{montesi2021sliceable}.
\end{itemize}

\subsection*{Guideline Orientation Dimension}

\begin{itemize}[noitemsep,topsep=2pt]
  \item \textbf{G10: Favor Actionable Patterns.} Champions reusable implementation artifacts, such as code templates, example repositories, and Architecture Decision Record (ADR) snippets, over abstract principles. The Tiny Store repository already serves this purpose for G1--G6; future research should generalize this approach into a pattern library that covers the full guideline set, validated through practitioner adoption studies~\cite{abgaz2023decomposition}.

  \item \textbf{G11: Contextualize to Constraints.} Focuses on adapting architectural decisions to startup-specific constraints such as team size, funding stage, and operational maturity. Future research should develop a constraint assessment framework that maps organizational parameters to recommended guideline configurations, enabling teams to prioritize which guidelines to adopt first based on their specific context~\cite{su2024from, prakash2024systematic}.

  \item \textbf{G12: Structure Guidance Around Dilemmas.} Advocates framing architectural guidance around trade-off dilemmas rather than prescriptive rules. Future research should catalog the most common dilemmas encountered during modular monolith adoption (e.g., ``boundary strictness vs.\ development velocity,'' ``infrastructure investment vs.\ team capacity'') and provide decision criteria grounded in empirical evidence from practitioner interviews and case studies.
\end{itemize}

\subsection*{Tooling Evolution: AI-Assisted Modularity Enforcement}

Beyond the deferred guidelines, this research identifies two complementary tooling directions that could operationalize the guideline set at the developer workflow level:

\begin{enumerate}[noitemsep,topsep=2pt]
  \item \textbf{AI Coding Agent for Modular Monoliths.} An AI-powered pair programming agent that can be integrated into any existing codebase and provides real-time guidance on module boundary enforcement, dependency direction, scalability-level assessment, and migration readiness. The agent would internalize the guidelines (G1--G12) as its knowledge base and offer contextual suggestions during development, code review, and refactoring. This approach lowers the adoption barrier by embedding architectural guidance directly into the developer's workflow rather than requiring teams to study and memorize the guideline set.

  \item \textbf{Modularity Framework or Plugin.} An evolution of the AI agent into a language-specific framework or plugin (e.g., a Node.js module, a Ruby gem, or an Elixir library) that provides programmatic tooling for modularity enforcement. Such a package would offer build-time boundary checks, dependency graph visualization, scalability-level metrics computation, and extraction readiness scoring as first-class library features. By packaging the guidelines as executable tooling, the framework would make progressive scalability a reproducible engineering practice rather than an architectural aspiration.
\end{enumerate}

\noindent
Both directions represent natural extensions of the Tiny Store reference implementation and the production-grade tooling stack (Kafka, Temporal, OpenTelemetry, Nx) introduced in this dissertation. Their development and validation are deferred to future research.

\subsection*{Research Approach for Deferred Guidelines}

The deferred guidelines will follow the same development methodology applied to G1--G6: literature-grounded design, operationalization through Tiny Store as a reference implementation where applicable, metric definition for verification, and practitioner validation through semi-structured interviews. The Organizational Alignment guidelines (G7--G9) will require empirical methods beyond code-level analysis, including team surveys, onboarding time measurements, and organizational case studies. The Guideline Orientation guidelines (G10--G12) will require meta-level validation, assessing whether the guidelines themselves are usable, contextualizable, and effective as decision-support tools.

\pagebreak
\section{Verification Plan}
\label{sec:verification-plan}

To strengthen the practical and academic relevance of the architectural guidelines proposed in this chapter, a verification phase is planned as the next step in this research. The verification focuses on the six fully developed guidelines (G1--G6), covering the Architectural Design and Operational Fit dimensions. Participants will include software engineering professionals from industry as well as academic researchers in the fields of software engineering and computer science, ensuring a comprehensive view of both practice and research.

All participants will receive a brief informed consent form explaining the purpose of the study, how their data will be used, and their right to withdraw at any time. Interview recordings will be stored on a secure research server with restricted access. Transcripts will be anonymized before any analysis to ensure that no identifying details are exposed. Any survey responses will also be collected anonymously. This approach guarantees that practitioner data are handled in accordance with research ethics standards and Brazilian data protection regulations.

\subsection*{Interview Method}

The primary method of verification will consist of semi-structured interviews with selected practitioners. Participants will include professionals with relevant expertise in designing or evolving monolithic and microservices systems or leading software architectural decisions in startups. Each interview will explore the perceived usefulness, feasibility, and completeness of the guidelines as well as any limitations or omissions experts may identify. Feedback will be used to refine the guidelines and inform the development of the deferred guidelines (G7--G12).

Interviews will be conducted remotely and will follow a flexible script structured around four thematic areas:

\begin{enumerate}
  \item General impressions and relevance of the guideline set (G1--G6)
  \item Detailed feedback on the production-grade implementation approach (Kafka, Temporal, OpenTelemetry) and its applicability to real-world startup environments
  \item Contextual challenges in applying the guidelines in early-stage, cloud-native applications
  \item Assessment of the progressive scalability spectrum (G3) and the deployment spectrum (G5) as decision-support tools
\end{enumerate}

Participants will receive summarized descriptions of the guidelines and access to the Tiny Store reference implementation in advance to facilitate discussion. With participant consent, all interviews will be recorded and transcribed. Transcripts will be stored securely and later coded using thematic analysis.

\subsection*{Analysis Approach}

All expert interview transcripts will be examined to identify recurring themes. The researcher will verify:

\begin{enumerate}
  \item Viability barriers (e.g., tooling limitations, organizational culture misalignment, infrastructure cost concerns)
  \item Viability enablers (e.g., clear boundaries, production-grade tooling, progressive adoption path)
  \item Gaps or missing details (e.g., unclear terminology, need for additional examples, missing prerequisites)
\end{enumerate}

Feedback will be categorized according to the four evaluation dimensions defined in Chapter~\ref{sec:relatedwork}: Architectural Design, Operational Fit, Organizational Alignment, and Guideline Orientation. The researcher will cross-reference these comments against the original literature gaps identified in the systematic review to confirm that the guidelines address underexplored needs and to inform any refinements.

\section{Timeline and Milestones}

\begin{itemize}
  \item March to April 2026: Recruit six to eight expert practitioners and conduct semi-structured interviews focused on G1--G6 and the Tiny Store reference implementation
  \item May 2026: Complete thematic coding of interview transcripts and apply revisions to G1--G6
  \item June 2026: Prepare and distribute optional online survey for broader practitioner feedback
  \item July to August 2026: Integrate survey results, finalize G1--G6, and document verification findings
  \item September to December 2026: Begin development and validation of deferred guidelines (G7--G12) based on practitioner feedback and empirical investigation
\end{itemize}
